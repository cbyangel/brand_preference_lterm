# brand_preference_lterm
Calculating brand preference using FM of xlearn package based on embedding 

brand_longterm_preference

1. 리콜
 - 최근 7일기준으로 고객이 방문한 상품기반으로 브랜드별 머문시간 측정
 - 위 기반으로 모델에 투입할 브랜드와 고객 선정
    - 1000명 이상 방문한 브랜드
    - 최소 3개이상 브랜드를 방문한 고객
 - SVD++ 알고리즘 수행
 - 고객별 선호예측 
    - 방문한 적이 있는 브랜드는 머문시간 그대로 사용
    - 방문하지 않은 브랜드는 모델에 의해 머문시간 예측
    - 점수가 높은순으로 선호하는 브랜드라 정의
    
    
2. 리랭킹
 - 리콜의 경우, short-term이고 방문하지 않은 브랜드라 여할지라도 다른 사람들 행동에 의해 선호브랜드라 간주됨
 - 따라서, long-term을 반영하여 고객별 리콜 브랜드를 다시 계산하여 순위를 매김 
 - 2019년 09월부터 데이터 수집하여 속성발굴 
    - 고객별 노출대카테고리 클릭비율, 구매금액 
    - 브랜드 구매고객수, 장바구니수, 클릭고객수, 주문액
 - 각 고객별 클릭수 기반으로 50%이상인 브랜드는 선호, 50%이하면 비선호 정답셋 생성   
 - 정답셋 기반으로 고객-브랜드별 속성을 반영하여 모델 생성 및 예측
 
 
3. 요약
 - 고객별 리콜브랜드기반으로 고객속성-브랜드속성을 가져와 모델에 대입하여 선호점수 계산  
 - 이 점수기반으로 고객별 리콜브랜드 리랭킹해서 점수가 높은순으로 Top1 브랜드 서비스 노출
  
 